<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel - SIGR</title>
  <link rel="stylesheet" href="/static/styles.css">
  <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
</head>
<body>
  <header>
    <nav>
      <a href="/" class="nav-brand">ğŸŒ SIGR</a>
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/apps">Apps</a>
        <a href="/relays">Relays</a>
        <a href="/admin" class="active">Admin</a>
      </div>
    </nav>
  </header>

  <main>
    <section class="hero-section">
      <h1 class="hero-title">ğŸ› ï¸ Admin Panel</h1>
      <p class="hero-subtitle">Manage relay connections and app visibility</p>
    </section>

    <div class="admin-grid">
      <section class="search-container admin-section">
        <h2 class="admin-section-title">ğŸ”— Follow Relay</h2>
        <form action="/admin/follow" method="post" class="admin-form">
          <div class="form-group">
            <label for="follow_url" class="form-label">Relay URL</label>
            <input type="url" name="follow_url" id="follow_url" class="form-input" 
                   placeholder="https://relay.example.com" required>
          </div>
          <button type="submit" class="tile-button">
            â• Follow Relay
          </button>
        </form>
      </section>

      <section class="search-container admin-section">
        <h2 class="admin-section-title">ğŸ‘ï¸ App Visibility</h2>
        <div class="app-visibility-list">
          {% for app in apps %}
          <div class="app-visibility-item">
            <div class="app-info">
              <span class="app-id">#{{ app.id }}</span>
              <span class="app-url">{{ app.url }}</span>
            </div>
            <form action="/admin/togglevisible" method="post" class="visibility-form">
              {% if app.visible %}
                <button type="submit" name="app_id" value="{{ app.id }}" 
                        class="visibility-button visible">
                  âœ… Visible
                </button>
              {% else %}
                <button type="submit" name="app_id" value="{{ app.id }}" 
                        class="visibility-button hidden">
                  âŒ Hidden
                </button>
              {% endif %}
            </form>
          </div>
          {% endfor %}
        </div>
      </section>
    </div>
  </main>
</body>
</html>